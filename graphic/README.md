# ２ピンを使った３色ビデオ信号の設計

## ビデオ信号の仕様
- 信号レベルと信号受信機の入力インピーダンス
Vp-p = 1[V], インピーダンス = 75[ohm]

|IRE|説明|
|:-:|:-:|
|120|ピークレベル|
|100|白レベル|
|7.5|黒レベル|
|  0|ブランクレベル|
|-40|同期レベル|

```
1 IRE = 1[V] / (120 - (-40)) = 0.00625[V]
```

|IRE|説明|電圧[V]|
|:-:|:-:|:-:|
|120|ピークレベル|1|
|100|白レベル|0.875|
|7.5|黒レベル|0.297|
|  0|ブランクレベル|0.25|
|-40|同期レベル|0|

## 単純に抵抗でレベルを調整
## ２ピンのビデオ信号実装
|high|low|V|IRE|説明|
|:-:|:-:|:-:|:--|
| 0 | 0 |0|-40|信号なし（表示上は黒になる）|
| 0 | 1 |0.3|8|黒|
| 1 | 0 |?|?|灰|
| 1 | 1 |0.9|104|白|

### Rlを求める(hl=00のとき)
```
5V o------+
          |
          { Rl
          |
          +-----------------------o 0.3V
          |
          { 75[ohm](インピーダンス)
          |
GND o-----+-----------------------o
```
  抵抗 = Rl + 75[ohm]  
  電流 = 5 / (Rl + 75)[A]  
インピーダンスにかかる電圧の関係  
  5 / (Rl + 75) * 75 = 0.3  
  375 = (Rl + 75) * 0.3  
  375 = 0.3 * Rl + 22.5  
  352.5 = 0.3 * Rl  
  Rl = 1175[ohm]  
  実際には、1[kohm]を採用し、(hl=00のときの電圧)  
  5 / (1000 + 75) * 75 = 0.34883720....[V]  

### Rhを求める(hl=11のとき)
```
5V o------+-----+
          |     |
          { Rl  { Rh
          |     |
          +-----+-----------------o 0.9V
                |
                { 75[ohm](インピーダンス)
                |
GND o-----------+-----------------o
```
  抵抗 = Rl * Rh / (Rl + Rh) + 75[ohm]  
  電流 = 5 / (Rh * Rh / (Rl + Rh) + 75)[A]  
インピーダンスにかかる電圧の関係  
  5 / (Rl * Rh / (Rl + Rh) + 75) * 75 = 0.9 
  5 / (1000 * Rh / (1000 + Rh) + 75) * 75 = 0.9 
  1 / (1000 * Rh / (1000 + Rh) + 75) = 0.9 / 5 / 75
  1000 * Rh / (1000 + Rh) + 75 = 5 * 75 / 0.9
  1000 * Rh / (1000 + Rh) = 5 * 75 / 0.9 - 75 
  Rh / (1000 + Rh) = (341.666...) / 1000 
  Rh = (1000 + Rh) * (0.341666...) 
  Rh = 341.666... + (0.341666...) * Rh 
  0.658334 * Rh = 341.666... 
  Rh = 518.98560....[ohm]

  実際には、470[ohm]を採用し、(hl=11のときの電圧)  
  5 / (470 + 75) * 75 = 0.6880...[V]  

## 結果
### 簡易回路図
```
Low  o-- 1K  --+---o Video
High o-- 470 --|
```
### ２ピン出力に対する出力電圧
|high|low|V|IRE|説明|
|:-:|:-:|:-:|:-:|:--|
| 0 | 0 |0|-40|信号なし（表示上は黒になる）|
| 0 | 1 |0.35|16|黒|
| 1 | 0 |0.69|70.4|灰|
| 1 | 1 |1.04|126.4|白|


